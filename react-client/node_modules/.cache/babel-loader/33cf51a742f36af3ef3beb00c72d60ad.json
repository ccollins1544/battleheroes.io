{"ast":null,"code":"var _jsxFileName = \"/Users/danger/DevelopeDan/BattleHero/battleheroes.io/react-client/src/pages/Home.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport Header from '../components/Header';\nimport Wrapper from '../components/Wrapper';\nimport { Col, Row, Container, SectionRow } from '../components/Grid';\nimport Hero from '../components/Hero';\n\nclass Home extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      heroes: [],\n      clickedHeroes: [],\n      score: 0,\n      highScore: 0,\n      pageTitle: \"Battle Heroes\",\n      game_message: \"Click any image to start\"\n    };\n\n    this.loadHeroes = () => {\n      if (this.state.heroes.length === 0) {\n        axios.get('./heroes.json').then(res => this.setState({\n          heroes: this.shuffleArray(res.data)\n        })).catch(err => console.log(err));\n      } else {\n        this.setState(prevState => ({\n          heroes: this.shuffleArray(prevState.heroes)\n        }));\n      }\n    };\n\n    this.handleHeroClick = id => {\n      if (!this.state.clickedHeroes.includes(id)) {\n        this.setState(prevState => ({\n          game_message: \"Good Job\",\n          clickedHeroes: [...prevState.clickedHeroes, id],\n          score: prevState.score + 1\n        }));\n      } else {\n        this.setState(prevState => ({\n          game_message: \"You Lose!\",\n          clickedHeroes: [],\n          score: 0,\n          highScore: prevState.score > prevState.highScore ? prevState.score : prevState.highScore\n        }));\n      }\n\n      this.loadHeroes();\n      return;\n    };\n\n    this.shuffleArray = a => {\n      for (let i = a.length - 1; i > 0; i--) {\n        const j = Math.floor(Math.random() * (i + 1));\n        var _ref = [a[j], a[i]];\n        a[i] = _ref[0];\n        a[j] = _ref[1];\n      }\n\n      return a;\n    };\n\n    console.log(\"home_props\", this.props);\n  }\n\n  componentDidMount() {\n    this.loadHeroes();\n  }\n\n  render() {\n    return React.createElement(React.Fragment, null, React.createElement(Header, {\n      game_message: this.state.game_message,\n      score: this.state.score,\n      highScore: this.state.highScore,\n      pageTitle: this.state.pageTitle,\n      updateUser: this.props.updateUser,\n      loggedIn: this.props.loggedIn,\n      username: this.props.username,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }), React.createElement(Wrapper, {\n      id: \"main-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(SectionRow, {\n      elementID: \"main-section\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, this.state.heroes.length ? this.state.heroes.map(hero => {\n      return React.createElement(Hero, {\n        key: hero._id,\n        id: hero._id,\n        heading: hero.name,\n        src: hero.image,\n        handleHeroClick: this.handleHeroClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      });\n    }) : React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, \"No Heroes to Display\"))));\n  }\n\n}\n\nexport default Home;","map":{"version":3,"sources":["/Users/danger/DevelopeDan/BattleHero/battleheroes.io/react-client/src/pages/Home.js"],"names":["React","Component","axios","Header","Wrapper","Col","Row","Container","SectionRow","Hero","Home","constructor","props","state","heroes","clickedHeroes","score","highScore","pageTitle","game_message","loadHeroes","length","get","then","res","setState","shuffleArray","data","catch","err","console","log","prevState","handleHeroClick","id","includes","a","i","j","Math","floor","random","componentDidMount","render","updateUser","loggedIn","username","map","hero","_id","name","image"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport Header from '../components/Header'\nimport Wrapper from '../components/Wrapper';\nimport { Col, Row, Container, SectionRow } from '../components/Grid';\nimport Hero from '../components/Hero';\n\nclass Home extends Component {\n  constructor(props) {\n    super(props);\n    console.log(\"home_props\", this.props);\n  }\n  \n  state = {\n    heroes: [],\n    clickedHeroes: [],\n    score: 0,\n    highScore: 0,\n    pageTitle: \"Battle Heroes\",\n    game_message: \"Click any image to start\"\n  };\n\n  componentDidMount(){\n    this.loadHeroes();\n  }\n\n  loadHeroes = () => {\n    if(this.state.heroes.length === 0){\n      axios.get('./heroes.json')\n        .then(res => this.setState({ heroes: this.shuffleArray(res.data) }))\n        .catch(err => console.log(err));\n    }else{\n      this.setState( prevState => ({heroes: this.shuffleArray(prevState.heroes)}));\n    }\n  };\n\n  handleHeroClick = id => {\n    if(!this.state.clickedHeroes.includes(id)){\n      this.setState( prevState => ({\n        game_message: \"Good Job\",\n        clickedHeroes: [...prevState.clickedHeroes, id],\n        score: prevState.score + 1\n      }));\n\n    }else{\n      this.setState( prevState => ({\n        game_message: \"You Lose!\",\n        clickedHeroes: [],\n        score: 0,\n        highScore: (prevState.score > prevState.highScore) ? prevState.score : prevState.highScore\n      }));\n    }\n\n    this.loadHeroes();\n    return;\n  };\n\n  shuffleArray = a => {\n    for (let i = a.length - 1; i > 0; i--) { \n      const j = Math.floor(Math.random() * (i + 1));\n      [a[i], a[j]] = [a[j], a[i]];\n    }\n    return a;\n  }\n\n  render(){ \n    return (\n      <>\n        <Header \n          game_message={this.state.game_message}\n          score={this.state.score}\n          highScore={this.state.highScore}\n          pageTitle={this.state.pageTitle}\n          updateUser={this.props.updateUser} \n          loggedIn={this.props.loggedIn}\n          username={this.props.username}\n        />\n        <Wrapper id=\"main-container\">\n          <SectionRow elementID=\"main-section\">\n            {this.state.heroes.length ? (\n              this.state.heroes.map(hero => {\n                return (\n                  <Hero \n                    key={hero._id}\n                    id={hero._id}\n                    heading={hero.name}\n                    src={hero.image}\n                    handleHeroClick={this.handleHeroClick}\n                  />\n                );\n              })\n            ) : (\n              <h3>No Heroes to Display</h3>\n            )}\n          </SectionRow>\n        </Wrapper>\n      </>\n    );\n  }\n}\n\nexport default Home;"]},"metadata":{},"sourceType":"module"}